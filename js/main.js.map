{"version":3,"sources":["../assets/js/main.js"],"names":["data","document","addEventListener","template","querySelector","innerHTML","templateScript","Handlebars","compile","body","cartList","classList","toggle","validateOptions","form","querySelectorAll","select","options","length","textContent","storeItem","item","cart","localStorage","getItem","JSON","parse","push","setItem","stringify","removeItem","undefined","index","findIndex","element","categoryID","productID","splice","handleCartItemForm","e","processForm","currentTarget","updateCartList","cartButtonNumber","messageEmpty","createElement","add","append","total","forEach","cartItem","actionInput","type","name","value","cartItemImage","cartItemInfo","cartItemHeader","cartItemContent","category","Object","values","categories","find","product","products","categoryIDInput","productIDInput","src","imgUri","alt","productName","nameElement","priceElement","price","parseFloat","cartItemOptions","option","attributeID","keys","attributes","key","optionID","cartItemOption","cartItemSubmitButton","title","cartFooter","cartTotalPrice","Math","round","cartCheckoutButton","action","valid","preventDefault","remove","once"],"mappings":"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","sourcesContent":["'use strict';\n\nconst data = {\n  \"categories\": {\n    \"1\": {\n      \"categoryName\": \"Food\",\n      \"categoryID\": \"C-1\",\n      \"products\": {\n        \"1\": {\n          \"productID\": \"P-1\",\n          \"productName\": \"Donuts\",\n          \"imgUri\": \"https://imgur.com/kYchlYz.jpg\",\n          \"price\": \"3.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Flavour\",\n              \"attributes\": {\n                \"A-1\": \"Chocolate\",\n                \"A-2\": \"Strawberry\"\n              }\n            }\n          }\n        },\n        \"2\": {\n          \"productID\": \"P-9\",\n          \"productName\": \"Macarons\",\n          \"imgUri\": \"https://imgur.com/jXTjNZZ.jpg\",\n          \"price\": \"4.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Flavour\",\n              \"attributes\": {\n                \"A-1\": \"Chocolate\",\n                \"A-2\": \"Strawberry\",\n                \"A-3\": \"Vanilla\"\n              }\n            }\n          }\n        },\n        \"3\": {\n          \"productID\": \"P-10\",\n          \"productName\": \"Avocado\",\n          \"imgUri\": \"https://imgur.com/x1KKtoK.jpg\",\n          \"price\": \"-.99\"\n        }\n      }\n    },\n    \"2\": {\n      \"categoryName\": \"Clothing\",\n      \"categoryID\": \"C-2\",\n      \"products\": {\n        \"1\": {\n          \"productID\": \"P-2\",\n          \"productName\": \"T-Shirt\",\n          \"imgUri\": \"https://imgur.com/bjvRuAP.jpg\",\n          \"price\": \"19.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Size\",\n              \"attributes\": {\n                \"A-1\": \"S\",\n                \"A-2\": \"M\",\n                \"A-3\": \"L\"\n              }\n            },\n            \"2\": {\n              \"optionID\": \"O-2\",\n              \"optionName\": \"Colour\",\n              \"attributes\": {\n                \"A-1\": \"Black\",\n                \"A-2\": \"Red\",\n                \"A-3\": \"Green\"\n              }\n            }\n          }\n        },\n        \"2\": {\n          \"productID\": \"P-3\",\n          \"productName\": \"Jumper\",\n          \"imgUri\": \"https://imgur.com/9uqCna7.jpg\",\n          \"price\": \"29.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Size\",\n              \"attributes\": {\n                \"A-1\": \"S\",\n                \"A-2\": \"M\",\n                \"A-3\": \"L\"\n              }\n            },\n            \"2\": {\n              \"optionID\": \"O-2\",\n              \"optionName\": \"Colour\",\n              \"attributes\": {\n                \"A-1\": \"Black\",\n                \"A-2\": \"Blue\",\n                \"A-3\": \"Green\"\n              }\n            }\n          }\n        },\n        \"3\": {\n          \"productID\": \"P-4\",\n          \"productName\": \"Shoes\",\n          \"imgUri\": \"https://imgur.com/oE198Ub.jpg\",\n          \"price\": \"49.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Size\",\n              \"attributes\": {\n                \"A-1\": \"44\",\n                \"A-2\": \"45\",\n                \"A-3\": \"46\"\n              }\n            }\n          }\n        }\n      }\n    },\n    \"3\": {\n      \"categoryName\": \"Home\",\n      \"categoryID\": \"C-3\",\n      \"products\": {\n        \"1\": {\n          \"productID\": \"P-5\",\n          \"productName\": \"Clock\",\n          \"imgUri\": \"https://imgur.com/ZRJ9Rct.jpg\",\n          \"price\": \"36.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Colour\",\n              \"attributes\": {\n                \"A-1\": \"Black\",\n                \"A-2\": \"White\"\n              }\n            }\n          }\n        },\n        \"2\": {\n          \"productID\": \"P-6\",\n          \"productName\": \"Chair\",\n          \"imgUri\": \"https://imgur.com/yIswGLg.jpg\",\n          \"price\": \"24.99\",\n          \"options\": {\n            \"1\": {\n              \"optionID\": \"O-1\",\n              \"optionName\": \"Colour\",\n              \"attributes\": {\n                \"A-1\": \"Black\",\n                \"A-2\": \"White\"\n              }\n            }\n          }\n        },\n        \"3\": {\n          \"productID\": \"P-7\",\n          \"productName\": \"Stool\",\n          \"imgUri\": \"https://imgur.com/aPIgpc4.jpg\",\n          \"price\": \"39.99\"\n        },\n        \"4\": {\n          \"productID\": \"P-8\",\n          \"productName\": \"Square table\",\n          \"imgUri\": \"https://imgur.com/jJayAiA.jpg\",\n          \"price\": \"99.99\"\n        }\n      }\n    }\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  /*--------------------- Handlebars template processing ---------------------*/\n\n  const template = document.querySelector('#template').innerHTML;\n  const templateScript = Handlebars.compile(template);\n  document.body.innerHTML = templateScript(data);\n\n\n  /*--------------------------- Custom JavaScript ----------------------------*/\n\n  /* Cart */\n  const cartList = document.querySelector('.cart__list');\n\n  /* Cart button listener */\n  document.querySelector('.js-cart-button').addEventListener('click', () => {\n    cartList.classList.toggle('show');\n  });\n\n\n  /*------------------- Forms and local storage management -------------------*/\n\n  /**\n   * Returns true if all options of the form are set.\n   * @param form The form being submitted.\n   * @returns {boolean} true if all options of the form are set ; false\n   *   otherwise.\n   */\n  function validateOptions(form) {\n    for (let select of form.querySelectorAll('select')) {\n      let options = select.querySelectorAll('option:checked:not(:disabled)');\n      if (options.length !== 1) {\n        form.querySelector('.message').textContent = \"Oops! Please make sure you've selected the right options.\";\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Stores an item in the 'cart' localStorage.\n   * @param item The item to be stored in the 'cart' localStorage.\n   */\n  function storeItem(item) {\n    let cart = localStorage.getItem('cart');\n    cart = cart ? JSON.parse(cart) : [];\n    cart.push(item);\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n\n  /**\n   * Removes an item in the 'cart' localStorage.\n   * @param item The item to be removed from the 'cart' localStorage.\n   * @returns {boolean} false if the 'cart' localStorage is empty.\n   */\n  function removeItem(item) {\n    let cart = localStorage.getItem('cart');\n    cart = cart ? JSON.parse(cart) : [];\n    if (cart === undefined || cart.length === 0) {\n      return false;\n    }\n\n    // Find the index of the element to be removed and remove it from the cart\n    const index = cart.findIndex(element => {\n      return element.categoryID === item.categoryID && element.productID === item.productID;\n    });\n    cart.splice(index, 1);\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n\n  /**\n   * Handles the cart item form.\n   * @param e The event which has occurred.\n   */\n  function handleCartItemForm(e) {\n    processForm(e.currentTarget);\n  }\n\n  /**\n   * Updates the whole cart list with the current localStorage values.\n   * This method allows to show only effectively stored items in the cart.\n   */\n  function updateCartList() {\n    let cart = localStorage.getItem('cart');\n    cart = cart ? JSON.parse(cart) : [];\n\n    const cartButtonNumber = document.querySelector('.js-cart-button-number');\n\n    const cartList = document.querySelector('.js-cart-list');\n    cartList.innerHTML = ''; // empty cart__list\n\n    // Add items to cart__list\n    if (cart === undefined || cart.length === 0) {\n      cartButtonNumber.textContent = 0;\n\n      const messageEmpty = document.createElement('p');\n      messageEmpty.classList.add('cart__text', 'cart__message');\n      messageEmpty.textContent = 'Your cart is empty';\n      cartList.append(messageEmpty);\n    } else {\n      cartButtonNumber.textContent = cart.length;\n\n      let total = 0;\n\n      cart.forEach(item => {\n        // Init cart-item form element\n        const cartItem = document.createElement('form');\n        cartItem.addEventListener('submit', handleCartItemForm);\n        cartItem.classList.add('item');\n        const actionInput = document.createElement('input');\n        actionInput.type = 'hidden';\n        actionInput.name = 'action';\n        actionInput.value = 'remove';\n        cartItem.append(actionInput);\n\n        // Create cart item DOM elements\n        const cartItemImage = document.createElement('img');\n        cartItemImage.classList.add('item__image');\n\n        const cartItemInfo = document.createElement('div');\n        cartItemInfo.classList.add('item__info');\n\n        const cartItemHeader = document.createElement('div');\n        cartItemHeader.classList.add('item__header');\n\n        const cartItemContent = document.createElement('div');\n        cartItemContent.classList.add('item__content');\n\n        // Retrieve the category in data corresponding to the item.categoryID\n        let category = Object.values(data.categories).find(element => {\n          return element.categoryID === item.categoryID;\n        });\n\n        // Retrieve the product in data with corresponding to the item.productID\n        let product = Object.values(category.products).find(element => {\n          return element.productID === item.productID;\n        });\n\n        // Last form elements\n        const categoryIDInput = document.createElement('input');\n        categoryIDInput.type = 'hidden';\n        categoryIDInput.name = 'categoryID';\n        categoryIDInput.value = category.categoryID;\n\n        const productIDInput = document.createElement('input');\n        productIDInput.type = 'hidden';\n        productIDInput.name = 'productID';\n        productIDInput.value = product.productID;\n\n        cartItem.append(categoryIDInput, productIDInput);\n\n        // Image\n        cartItemImage.src = product.imgUri;\n        cartItemImage.alt = product.productName;\n\n        // Info header\n        let nameElement = document.createElement('h4');\n        nameElement.classList.add('item__name');\n        nameElement.textContent = product.productName;\n        let priceElement = document.createElement('p');\n        priceElement.classList.add('price', 'item__price');\n        priceElement.textContent = product.price;\n\n        total += parseFloat(product.price);\n\n        // Info option(s)\n        const cartItemOptions = document.createElement('div');\n        cartItemOptions.classList.add('item__options');\n\n        if (product.options) {\n          Object.values(product.options).forEach(option => {\n            let attributeID = Object.keys(option.attributes).find(key => {\n              return key === item[option.optionID];\n            });\n\n            let cartItemOption = document.createElement('p');\n            cartItemOption.classList.add('item__option');\n            cartItemOption.textContent = option.attributes[attributeID];\n            cartItemOptions.append(cartItemOption);\n          });\n        } else {\n          let cartItemOption = document.createElement('p');\n          cartItemOption.classList.add('item__option');\n          cartItemOption.textContent = 'Plain';\n          cartItemOptions.append(cartItemOption);\n        }\n\n        cartItemContent.append(cartItemOptions);\n\n        const cartItemSubmitButton = document.createElement('button');\n        cartItemSubmitButton.type = 'submit';\n        cartItemSubmitButton.classList.add('button', 'item__button');\n        cartItemSubmitButton.innerHTML = '<i class=\"material-icons-sharp button__icon button__icon_s\">close</i>';\n        cartItemSubmitButton.title = 'Remove item';\n\n        cartItemHeader.append(nameElement, priceElement);\n        cartItemInfo.append(cartItemHeader, cartItemContent);\n        cartItem.append(cartItemImage, cartItemInfo, cartItemSubmitButton);\n        cartList.append(cartItem);\n      }); // end foreach item\n\n      const cartFooter = document.createElement('div');\n      cartFooter.classList.add('item', 'cart__footer');\n\n      const cartTotalPrice = document.createElement('p');\n      cartTotalPrice.classList.add('cart__text');\n      cartTotalPrice.textContent = `Total: ${Math.round(total * 100) / 100}`;\n\n      const cartCheckoutButton = document.createElement('button');\n      cartCheckoutButton.classList.add('button', 'button--black');\n      cartCheckoutButton.textContent = 'Checkout';\n\n      cartFooter.append(cartTotalPrice, cartCheckoutButton);\n      cartList.append(cartFooter);\n    }\n  }\n\n  /**\n   * Processes a form.\n   * @param form The form being submitted.\n   */\n  function processForm(form) {\n\n    /* Get form elements */\n    const action = form.querySelector('input[name=\"action\"]').value;\n    const categoryID = form.querySelector('input[name=\"categoryID\"]').value;\n    const productID = form.querySelector('input[name=\"productID\"]').value;\n\n    /* Create item object */\n    let item = {};\n    item.categoryID = categoryID;\n    item.productID = productID;\n\n    /* Perform action */\n    if (action === 'add') {\n      form.querySelectorAll('select').forEach(select => {\n        const option = select.querySelector('option:checked');\n        item[select.name] = option.value;\n      });\n\n      storeItem(item); // store item\n    } else if (action === 'remove') {\n      removeItem(item); // remove item\n    }\n  }\n\n  /* Update (fill) cart before adding the events listeners */\n  updateCartList();\n\n  /* Product forms validation listener */\n  document.querySelectorAll('.js-product-form').forEach(form => {\n    form.addEventListener('submit', e => {\n      let valid = true;\n      valid = validateOptions(form) && valid;\n\n      if (!valid) {\n        e.preventDefault();\n      } else {\n        // Process form\n        processForm(e.currentTarget);\n      }\n    });\n  });\n\n  /* Cart item forms validation listener */\n  document.querySelectorAll('.js-cart-item-form').forEach(form => {\n    form.addEventListener('submit', handleCartItemForm);\n  });\n\n  /* Hide cart-list when clicking in the .main element */\n  document.querySelector('.main').addEventListener('click', e => {\n    document.querySelector('.js-cart-list').classList.remove('show');\n  });\n}, {once: true});\n"],"file":"main.js"}